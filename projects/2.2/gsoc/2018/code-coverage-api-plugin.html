<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Jenkins</title>
    <link rel="canonical" href="https://docs.jenkins.com/projects/2.2/gsoc/2018/code-coverage-api-plugin.html">
    <link rel="prev" href="index.html">
    <link rel="next" href="eda-plugins.html">
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<script type="module" src="https://unpkg.com/@jenkinsci/jenkins-io-components?module"></script>
<jio-navbar style="  position: fixed;
  top: 0;
  width: 100vw;
  z-index: 100;"></jio-navbar>
  <div class="body">
<div class="nav-container" data-component="projects" data-version="2.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Jenkins Projects</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../blueocean/index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../blueocean/about.html">about.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../blueocean/contribute.html">contribute.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../blueocean/roadmap.html">roadmap.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../jam/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../remoting/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">2018/index.adoc</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="code-coverage-api-plugin.html">2018/code-coverage-api-plugin.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eda-plugins.html">2018/eda-plugins.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">2018/index.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="remoting-over-message-bus.html">2018/remoting-over-message-bus.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="simple-pull-request-job-plugin.html">2018/simple-pull-request-job-plugin.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../advocacy-and-outreach/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../jcasc/index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../jcasc/dev-tools.html">dev-tools.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../infrastructure/index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../infrastructure/ircbot.html">ircbot.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../jenkins-operator/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Other Projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../other/document-jenkins-on-kubernetes.html">document-jenkins-on-kubernetes.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../other/jenkins-x.html">jenkins-x.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Jenkins Projects</span>
    <span class="version">2.2</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../images/index.html">All of Jenkins Images</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../images/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../books/index.html">Jenkins Books</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../books/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../community/index.html">Jenkins Community</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../community/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../dev-docs/index.html">Jenkins Developer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../dev-docs/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../events/index.html">Jenkins Events</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../events/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">Jenkins Projects</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">2.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../security/index.html">Jenkins Security Advisories</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../security/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../solutions/2.2/index.html">Jenkins Solutions Page</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../solutions/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../../../solutions/2.1/index.html">2.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../sigs/index.html">Jenkins Special Intrest Groups</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../sigs/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../tutorial/2.2/index.html">Jenkins Tutorials</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tutorial/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../../../tutorial/2.1/index.html">2.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../user-docs/2.2/index.html">Jenkins User Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../user-docs/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../../../user-docs/2.1/index.html">2.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../user-docs/2.2/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Jenkins Projects</a></li>
    <li><a href="../index.html">index.adoc</a></li>
    <li><a href="index.html">2018/index.adoc</a></li>
    <li><a href="code-coverage-api-plugin.html">2018/code-coverage-api-plugin.adoc</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/Vandit1604/jenkins-docs/edit/main/docs/projects/modules/gsoc/pages/2018/code-coverage-api-plugin.adoc"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"/></svg>  Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<hr>
<div class="paragraph">
<p>layout: gsocproject
title: "GSoC 2018. Code Coverage API Plugin"
status: "Completed"
tags:
- gsoc2018
student: shenyu_zheng
mentors:
- "christ66"
- "supun94"
- "jeffpearce"
- "oleg_nenashev"
links:
  gitter: "jenkinsci_code-coverage-api-plugin:gitter.im"
  github: "jenkinsci/code-coverage-api-plugin"
---</p>
</div>
<h1 id="_gsoc_2018_code_coverage_api_plugin" class="sect0"><a class="anchor" href="#_gsoc_2018_code_coverage_api_plugin"></a>GSoC 2018. Code Coverage API Plugin</h1>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are a lot of plugins which currently implement code coverage, however, they all use similar config, charts, and content. So it will be much better if we can have an API plugin which does the most repeated work for those plugins and offers a unified APIs which can be consumed by other plugins and external tools.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_supported_tools"><a class="anchor" href="#_supported_tools"></a>Supported Tools</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Embedded tools</p>
<div class="ulist">
<ul>
<li>
<p>JaCoCo</p>
</li>
</ul>
</div>
</li>
<li>
<p>Other plugins as an Extension of Code Coverage API plugin</p>
<div class="ulist">
<ul>
<li>
<p>Cobertura (<a href="https://github.com/jenkinsci/cobertura-plugin">Cobertura Plugin</a>)</p>
</li>
<li>
<p>llvm-cov (<a href="https://github.com/jenkinsci/llvm-cov-plugin">llvm-cov Plugin</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architecture"><a class="anchor" href="#_architecture"></a>Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This API plugin will mainly do these things:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Find coverage reports according to the user’s config.</p>
</li>
<li>
<p>Use adapters to convert reports into the our standard format.</p>
</li>
<li>
<p>Parse standard format reports, and aggregate them.</p>
</li>
<li>
<p>Show parsed result in a chart.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>So, we can implement code coverage publishing by simply writing an adapter, and such adapter only needs to do one thing - convert a coverage report into the standard format. The implementation is based on extension points, so new adapters can be created in separate plugins. In order to simplify conversion for XML reports, there is also an abstraction layer which allows creating XSLT-based converters.</p>
</div>
<div class="paragraph">
<p><strong>architecture diagram</strong></p>
</div>
<div class="paragraph">
<p><span class="image unresolved center"><img src="/images/post-images/code-coverage-api/architecture.png" alt="architecture" title="Code Coverage API Plugin Architecture"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features"><a class="anchor" href="#_features"></a>Features</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Modernized coverage chart</p>
</li>
<li>
<p>Coverage trend</p>
</li>
<li>
<p>Source code navigation</p>
</li>
<li>
<p>Parallel pipeline support</p>
</li>
<li>
<p>Reports combining</p>
</li>
<li>
<p>Rest API</p>
</li>
<li>
<p>Failed conditions and flexible threshold setting</p>
</li>
<li>
<p>Other small features</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can see more details in our <a href="/blog/2018/08/17/code-coverage-api-plugin-1/">1.0 release blog post</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_first_phase_summary"><a class="anchor" href="#_first_phase_summary"></a>First Phase Summary</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Prototype based on Cobertura plugin data model.</p>
</li>
<li>
<p>Integrate other Java code coverage tools.</p>
</li>
<li>
<p>Health report support.</p>
</li>
<li>
<p>Auto detect support.(<a href="https://issues.jenkins.io/browse/JENKINS-51366">JENKINS-51366</a>)</p>
</li>
<li>
<p>Pipeline support.(<a href="https://issues.jenkins.io/browse/JENKINS-51363">JENKINS-51363</a>)</p>
</li>
<li>
<p>Threshold support.(<a href="https://issues.jenkins.io/browse/JENKINS-51364">JENKINS-51364</a>)</p>
</li>
<li>
<p>Modernize report.(<a href="https://issues.jenkins.io/browse/JENKINS-51368">JENKINS-51386</a>)</p>
</li>
<li>
<p>Unit tests.(<a href="https://issues.jenkins.io/browse/JENKINS-51611">JENKINS-51611</a>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_second_phase_summary"><a class="anchor" href="#_second_phase_summary"></a>Second Phase Summary</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Add source code navigation(<a href="https://issues.jenkins.io/browse/JENKINS-51988">JENKINS-51988</a>)</p>
</li>
<li>
<p>Prototype integration between Code Coverage API and Cobertura plugin(<a href="https://issues.jenkins.io/browse/JENKINS-51424">JENKINS-51424</a>)</p>
</li>
<li>
<p>Offer REST API to retrieve the coverage reports in machine-readable format.(<a href="https://issues.jenkins.io/browse/JENKINS-51422">JENKINS-51422</a>)</p>
</li>
<li>
<p>Offer REST API to retrieve the coverage trends in machine-readable format.(<a href="https://issues.jenkins.io/browse/JENKINS-51423">JENKINS-51423</a>)</p>
</li>
<li>
<p>Move auto-detector coverage publishing logic to the extension point implementation.(<a href="https://issues.jenkins.io/browse/JENKINS-51737">JENKINS-51737</a>)</p>
</li>
<li>
<p>Refactoring the configuration page to make it more user-friendly.(<a href="https://issues.jenkins.io/browse/JENKINS-51927">JENKINS-51927</a>)</p>
</li>
<li>
<p>Add support of llvm-cov Report converter.(<a href="https://issues.jenkins.io/browse/JENKINS-51736">JENKINS-51736</a>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_third_phase_summary"><a class="anchor" href="#_third_phase_summary"></a>Third Phase Summary</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Supporting combining reports within a build(e.g. after parallel() execution in Pipeline). (<a href="https://issues.jenkins.io/browse/JENKINS-51926">JENKINS-51926</a>)</p>
</li>
<li>
<p>Make Code Coverage API plugin more generic. (<a href="https://issues.jenkins.io/browse/JENKINS-52839">JENKINS-52839</a>)</p>
</li>
<li>
<p>Migrate LLVM coverage out into new plugin (<a href="https://issues.jenkins.io/browse/JENKINS-52630">JENKINS-52630</a>)</p>
</li>
<li>
<p>Refactoring of the adopted code(<a href="https://issues.jenkins.io/browse/JENKINS-51733">JENKINS-51733</a>)</p>
</li>
<li>
<p>Change current REST API to the standard format.(<a href="https://issues.jenkins.io/browse/JENKINS-52628">JENKINS-52628</a>)</p>
</li>
<li>
<p>Bug fixing.</p>
</li>
<li>
<p>Writing documentation.</p>
</li>
<li>
<p>Releasing the plugin.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_future_tasks"><a class="anchor" href="#_future_tasks"></a>Future tasks</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Implement more coverage tools (<a href="https://issues.jenkins.io/browse/JENKINS-52467">JENKINS-52467</a>, <a href="https://issues.jenkins.io/browse/JENKINS-51469">JENKINS-52469</a> and etc.)</p>
</li>
<li>
<p>Make the UI extensible (<a href="https://issues.jenkins.io/browse/JENKINS-51738">JENKINS-51738</a>)</p>
</li>
<li>
<p>Improve performance (<a href="https://issues.jenkins.io/browse/JENKINS-52982">JENKINS-52982</a>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_phase_3_presentation_slides"><a class="anchor" href="#_phase_3_presentation_slides"></a>Phase 3 Presentation Slides</h2>
<div class="sectionbody">
<center>
<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vThjuFZCChtXhHOKINDxuC4Sfbv0JtHDN9GqWZFe7DfmbEOPZOk-t8DYZJSDEMeMWFpLeTqOAZgj0pB/embed?start=false&loop=false&delayms=3000" frameborder="0" width="720" height="434" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
</center>
</div>
</div>
<div class="sect1">
<h2 id="_phase_3_presentation_video"><a class="anchor" href="#_phase_3_presentation_video"></a>Phase 3 Presentation Video</h2>
<div class="sectionbody">
<center>
  <iframe width="720" height="434" src="https://www.youtube.com/embed/GGEtN4nbtng" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</center>
</div>
</div>
<div class="sect1">
<h2 id="_useful_links"><a class="anchor" href="#_useful_links"></a>Useful Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.google.com/document/d/10ko6W07pIpRqgYcv2Eq6tZwSg1UUybzJ9AsMZszfiXA/edit#heading=h.jv1f2icy8a5j">Project Proposal</a></p>
</li>
<li>
<p><a href="/blog/2018/06/13/code-coverage-api-plugin/">Introduction Blogpost</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=qWHM8S0fzUw">Phase 1 Presentation Video</a></p>
</li>
<li>
<p><a href="https://docs.google.com/presentation/d/141gvnLeNem-2SdiIEM4ZN-nzDmhVJUrUYv-r6a482R8/edit?usp=sharing">Phase 1 Presentation Slides</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=tuTODhJOTBU">Phase 2 Presentation Video</a></p>
</li>
<li>
<p><a href="https://docs.google.com/presentation/d/1pHe7qFwo1ej1YdIUUVriQK09rVasmGpHnmycHy7ikws/edit?usp=sharing">Phase 2 Presentation Slides</a></p>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">2018/index.adoc</a></span>
  <span class="next"><a href="eda-plugins.html">2018/eda-plugins.adoc</a></span>
</nav>
</article>
  </div>
</main>
</div>
<jio-footer></jio-footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
