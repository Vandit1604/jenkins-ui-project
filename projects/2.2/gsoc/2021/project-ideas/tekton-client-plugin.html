<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Jenkins</title>
    <link rel="canonical" href="https://docs.jenkins.com/projects/2.2/gsoc/2021/project-ideas/tekton-client-plugin.html">
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../_'</script>
  </head>
  <body class="article">
<script type="module" src="https://unpkg.com/@jenkinsci/jenkins-io-components?module"></script>
<jio-navbar style="  position: fixed;
  top: 0;
  width: 100vw;
  z-index: 100;"></jio-navbar><div class="body">
<div class="nav-container" data-component="projects" data-version="2.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">Jenkins Projects</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../blueocean/index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../blueocean/about.html">about.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../blueocean/contribute.html">contribute.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../blueocean/roadmap.html">roadmap.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../jam/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../remoting/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../2018/index.html">2018/index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../2018/code-coverage-api-plugin.html">2018/code-coverage-api-plugin.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../2018/eda-plugins.html">2018/eda-plugins.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../2018/index.html">2018/index.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../2018/remoting-over-message-bus.html">2018/remoting-over-message-bus.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../2018/simple-pull-request-job-plugin.html">2018/simple-pull-request-job-plugin.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../advocacy-and-outreach/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../jcasc/index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../jcasc/dev-tools.html">dev-tools.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../infrastructure/index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../infrastructure/ircbot.html">ircbot.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../jenkins-operator/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Other Projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../other/document-jenkins-on-kubernetes.html">document-jenkins-on-kubernetes.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../other/jenkins-x.html">jenkins-x.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Jenkins Projects</span>
    <span class="version">2.2</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../dev-docs/index.html">Jenkins Developer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../dev-docs/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../events/index.html">Jenkins Events</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../events/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">Jenkins Projects</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">2.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../security/index.html">Jenkins Security Advisories</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../security/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../solutions/2.2/index.html">Jenkins Solutions Page</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../solutions/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../../../../solutions/2.1/index.html">2.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../sigs/index.html">Jenkins Special Intrest Groups</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../sigs/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../tutorial/2.2/index.html">Jenkins Tutorials</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../tutorial/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../../../../tutorial/2.1/index.html">2.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../user-docs/2.2/index.html">Jenkins User Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../user-docs/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../../../../user-docs/2.1/index.html">2.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../user-docs/2.2/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/Vandit1604/jenkins-docs/edit/main/docs/projects/modules/gsoc/pages/2021/project-ideas/tekton-client-plugin.adoc"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"/></svg>  Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<hr>
<div class="paragraph">
<p>layout: gsocprojectidea
title: "Tekton Pipelines DSL for Jenkins with the Tekton Client Plugin"
goal: "Manage Tekton resources via Pipeline Steps / Jenkinsfile"
category: Plugins
year: 2021
status: published
sig: cloud-native
skills:
- Java
- Kubernetes
- Tekton Pipelines
mentors:
- "waveywaves"
- "garethjevans"
links:
  draft: <a href="https://docs.google.com/document/d/1_mS0gLgM7oz7PanE0X_SkJ8iUo-BPVCixXMSDO7-VMk/edit#" class="bare">https://docs.google.com/document/d/1_mS0gLgM7oz7PanE0X_SkJ8iUo-BPVCixXMSDO7-VMk/edit#</a>
  design doc: <a href="https://docs.google.com/document/d/10n3vgYrjS_M1571OUOYLw4tK2QmxY7kp_wyUT3ke4gY/edit#" class="bare">https://docs.google.com/document/d/10n3vgYrjS_M1571OUOYLw4tK2QmxY7kp_wyUT3ke4gY/edit#</a>
---</p>
</div>
<div class="sect2">
<h3 id="_background"><a class="anchor" href="#_background"></a>Background</h3>
<div class="paragraph">
<p>With the movement of traditional software architecture to microservices, there has been a growth in usage of container orchestration infrastructure (Kubernetes) and tooling around it. To adapt to this there have been plugins developed for Jenkins like the kubernetes-plugin which allow this transition to be smooth for the users to keep the same CI/CD platform and migrate their workloads.</p>
</div>
<div class="paragraph">
<p>Building on Kubernetes would mean that any CI/CD tool which has been Kubernetes-native built with building on Kubernetes as it’s main idea would thrive better than Jenkins itself. Leveraging this, we can use the capability of spinning pipelines on Tekton (Serverless CI/CD for Kubernetes) through Jenkins. Using the same vocabulary and ideas to execute Jobs from Jenkins and having the workloads of the Jobs run by Tekton in Kubernetes, this plugin aims to bridge the gap between Jenkins and Kubernetes.</p>
</div>
<div class="paragraph">
<p>The Tekton Client Plugin allows users to create/delete resources via Build Steps but there is no way for users to employ their preexisting Jenkinsfile to extend their Jenkins pipeline to leverage Tekton for deploying on Kubernetes.</p>
</div>
<div class="paragraph">
<p>With no DSL for Tekton on Jenkins there is no way for the users to write scripts which can automate their Tekton lifecycle through Jenkins.</p>
</div>
<div class="sect3">
<h4 id="_project_details"><a class="anchor" href="#_project_details"></a>Project Details</h4>
<div class="paragraph">
<p>Create a DSL to interact with Tekton supported by Jenkins.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reference_links"><a class="anchor" href="#_reference_links"></a>Reference Links</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jenkinsci/tekton-client-plugin">Tekton Client Plugin</a></p>
</li>
<li>
<p><a href="https://github.com/tektoncd/pipeline">Tekton Pipelines controller (Would need to be installed on a Kubernetes Cluster for development)</a></p>
</li>
<li>
<p><a href="https://github.com/fabric8io/kubernetes-client">Kubernetes Client in Java (used in Tekton Client Plugin)</a></p>
</li>
<li>
<p><a href="https://docs.google.com/document/d/10n3vgYrjS_M1571OUOYLw4tK2QmxY7kp_wyUT3ke4gY/edit#">Tekton DSL Design Doc (outlines the scope of work)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quick_start"><a class="anchor" href="#_quick_start"></a>Quick-start</h3>
<div class="paragraph">
<p>To work with Tekton Client Plugin, having a Kubernetes cluster is essential.
A Minikube or KIND kubernetes cluster is sufficient to begin with development on the plugin.</p>
</div>
<div class="sect3">
<h4 id="_installing_kubectl"><a class="anchor" href="#_installing_kubectl"></a>Installing kubectl</h4>
<div class="paragraph">
<p>kubectl is a commandline tool used to interact with Kubernetes clusters. We would be using it here to understand the state of the resources</p>
</div>
</div>
<div class="sect3">
<h4 id="_installing_kind"><a class="anchor" href="#_installing_kind"></a>Installing KIND</h4>
<div class="paragraph">
<p>Follow this <a href="https://kind.sigs.k8s.io/docs/user/quick-start/">quick start guide</a> to install a KIND cluster.</p>
</div>
<div class="paragraph">
<p>Create a cluster using <code>kind</code> cli.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kind create cluster</code></pre>
</div>
</div>
<div class="paragraph">
<p>Check cluster installation</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get pods -n kube-system</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output should contain pods which are in the <code>Running</code> state.</p>
</div>
</div>
<div class="sect3">
<h4 id="_installing_tekton_on_your_kubernetes_cluster"><a class="anchor" href="#_installing_tekton_on_your_kubernetes_cluster"></a>Installing Tekton on your Kubernetes cluster</h4>
<div class="paragraph">
<p>Follow this <a href="https://github.com/tektoncd/pipeline/blob/main/docs/install.md#installing-tekton-pipelines-on-kubernetes">github doc</a> and install the latest release of Tekton Pipeline on your k8s cluster.</p>
</div>
<div class="paragraph">
<p>Check Tekton installation</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get pods -n tekton-pipelines</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output should contain pods which are in the <code>Running</code> state.</p>
</div>
</div>
<div class="sect3">
<h4 id="_installing_tekton_cli"><a class="anchor" href="#_installing_tekton_cli"></a>Installing Tekton CLI</h4>
<div class="paragraph">
<p>The Tekton CLI would be used to better debug and work with Tekton Pipelines.
Use this <a href="https://github.com/tektoncd/cli#installing-tkn">github doc</a> to install Tekton CLI.</p>
</div>
</div>
<div class="sect3">
<h4 id="_create_a_tekton_resource_using_jenkins_tekton_client_plugin"><a class="anchor" href="#_create_a_tekton_resource_using_jenkins_tekton_client_plugin"></a>Create a Tekton resource using Jenkins + Tekton Client Plugin</h4>
<div class="sect4">
<h5 id="_start_a_jenkins_instance_with_the_plugin_installed"><a class="anchor" href="#_start_a_jenkins_instance_with_the_plugin_installed"></a>Start a Jenkins instance with the plugin installed</h5>
<div class="paragraph">
<p>Running a Tekton pipeline using the plugin is the best way to get acquainted to the plugin.
Once we have a kubernetes cluster running with Tekton installed we can start the plugin in development mode and create a tekton resources from the Jenkins console.</p>
</div>
<div class="paragraph">
<p>Clone and run the plugin in development mode.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/jenkinsci/tekton-client-plugin
cd tekton-client-plugin
mvn hpi:run</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_create_a_tekton_taskrun"><a class="anchor" href="#_create_a_tekton_taskrun"></a>Create a Tekton TaskRun</h5>
<div class="paragraph">
<p>Browse to localhost:8080/jenkins which will take you to the Jenkins console.
- Create a new Freestyle Project / Job by navigating to the <code>New Item</code> button on the top left corner of the screen. Choose Freestyle Project, give a name and click on <code>Ok</code>. This will take us to the job configuration next.
- In the job configuration, scroll down to the <code>Build</code> sub header. From the "Add build step` drop down, choose <code>Tekton : Create Resource (Raw)</code>. This will add a Build step to the configuration which will help us create a Tekton resource.
- In the Tekton createRaw build step configuration, choose the Input Type as <code>URL</code> and add the following url as the input.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">https://raw.githubusercontent.com/tektoncd/pipeline/main/examples/v1beta1/taskruns/task-result.yaml
This would create a TaskRun running a Task in Tekton.</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_checking_the_state_of_taskrun_using_the_tekton_cli"><a class="anchor" href="#_checking_the_state_of_taskrun_using_the_tekton_cli"></a>Checking the state of TaskRun using the Tekton CLI.</h5>
<div class="paragraph">
<p>Run the following commands to check the state of the TaskRun and the get the logs for the same respectively.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">tkn taskrun list
tkn taskrun logs -f</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_checking_the_state_of_taskrun_from_the_jenkins_console"><a class="anchor" href="#_checking_the_state_of_taskrun_from_the_jenkins_console"></a>Checking the state of TaskRun from the Jenkins Console</h5>
<div class="paragraph">
<p>Go to the Jenkins console for the Job to see the output of the TaskRun from Jenkins.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_next_steps"><a class="anchor" href="#_next_steps"></a>Next Steps</h3>
<div class="paragraph">
<p>To explore the Tekton Client Plugin further, check out more of the <a href="https://github.com/jenkinsci/tekton-client-plugin/tree/master/docs">documentation</a> and the <a href="https://github.com/jenkinsci/tekton-client-plugin/issues">github issues</a> to understand current landscape of the plugin and future work.</p>
</div>
</div>
<div class="sect2">
<h3 id="_newbie_friendly_issues"><a class="anchor" href="#_newbie_friendly_issues"></a>Newbie-friendly issues</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.jenkins.io/issues/?jql=labels%20%3D%20newbie-friendly%20AND%20status%20not%20in%20(Closed%2C%20Done%2C%20Resolved%2C%20%22Fixed%20but%20Unreleased%22)%20AND%20component%20%3D%20tekton-client-plugin%20AND%20project%20%3D%20JENKINS">Open newbie-friendly issues</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_skills_to_improvestudy"><a class="anchor" href="#_skills_to_improvestudy"></a>Skills to improve/study</h3>
<div class="ulist">
<ul>
<li>
<p>Java</p>
</li>
<li>
<p>Docker,Kubernetes</p>
</li>
<li>
<p>Jenkins</p>
</li>
<li>
<p>Tekton Pipelines</p>
</li>
</ul>
</div>
</div>
</article>
  </div>
</main>
</div>
<jio-footer></jio-footer>
<script id="site-script" src="../../../../../_/js/site.js" data-ui-root-path="../../../../../_"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
