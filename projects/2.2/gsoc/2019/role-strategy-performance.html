<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Jenkins</title>
    <link rel="canonical" href="https://docs.jenkins.com/projects/2.2/gsoc/2019/role-strategy-performance.html">
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<script type="module" src="https://unpkg.com/@jenkinsci/jenkins-io-components?module"></script>
<jio-navbar style="  position: fixed;
  top: 0;
  width: 100vw;
  z-index: 100;"></jio-navbar><div class="body">
<div class="nav-container" data-component="projects" data-version="2.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Jenkins Projects</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../blueocean/index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../blueocean/about.html">about.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../blueocean/contribute.html">contribute.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../blueocean/roadmap.html">roadmap.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../jam/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../remoting/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../2018/index.html">2018/index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2018/code-coverage-api-plugin.html">2018/code-coverage-api-plugin.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2018/eda-plugins.html">2018/eda-plugins.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2018/index.html">2018/index.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2018/remoting-over-message-bus.html">2018/remoting-over-message-bus.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2018/simple-pull-request-job-plugin.html">2018/simple-pull-request-job-plugin.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../advocacy-and-outreach/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../jcasc/index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../jcasc/dev-tools.html">dev-tools.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../infrastructure/index.html">index.adoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../infrastructure/ircbot.html">ircbot.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../jenkins-operator/index.html">index.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Other Projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../other/document-jenkins-on-kubernetes.html">document-jenkins-on-kubernetes.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../other/jenkins-x.html">jenkins-x.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Jenkins Projects</span>
    <span class="version">2.2</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../dev-docs/index.html">Jenkins Developer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../dev-docs/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../events/index.html">Jenkins Events</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../events/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">Jenkins Projects</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">2.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../security/index.html">Jenkins Security Advisories</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../security/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../solutions/2.2/index.html">Jenkins Solutions Page</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../solutions/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../../../solutions/2.1/index.html">2.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../sigs/index.html">Jenkins Special Intrest Groups</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../sigs/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../tutorial/2.2/index.html">Jenkins Tutorials</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tutorial/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../../../tutorial/2.1/index.html">2.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../user-docs/2.2/index.html">Jenkins User Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../user-docs/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../../../user-docs/2.1/index.html">2.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../user-docs/2.2/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/Vandit1604/jenkins-docs/edit/main/docs/projects/modules/gsoc/pages/2019/role-strategy-performance.adoc"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"/></svg>  Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<hr>
<div class="paragraph">
<p>layout: gsocproject
title: "Role Strategy Plugin performance"
goal: "Improve performance of one of the most popular authorization plugins in Jenkins"
category: Plugins
year: 2019
status: Completed
student: abhyudayasharma
mentors:
- "oleg_nenashev"
- "runzexia"
- "supun94"
links:
  draft: "https://docs.google.com/document/d/1zUKRShhILzESwO7PIrYxXRSyLxxY-hAPclbREU8uE1o"
  gitter: "jenkinsci_role-strategy-plugin:gitter.im"
---</p>
</div>
<div class="paragraph">
<p>The Role Strategy Plugin is one of the most popular Jenkins authorization plugin. On adding a large number of roles to the plugin,
a significant slowdown is visible in the Jenkins Web UI. The project aims to improve the end user experience by improving the
performance of the plugin and creating a reliable performance testing framework which can be used in other Jenkins plugins.</p>
</div>
<div class="paragraph">
<p>The project is being tracked on Jenkins Jira:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.jenkins.io/browse/JENKINS-57415">Community Bonding</a></p>
</li>
<li>
<p><a href="https://issues.jenkins.io/browse/JENKINS-57416">Phase 1</a></p>
</li>
<li>
<p><a href="https://issues.jenkins.io/browse/JENKINS-18377">Phase 2 and Phase 3</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please follow our <a href="https://app.gitter.im/#/room/#jenkinsci_role-strategy-plugin:gitter.im">Gitter chat</a> for more details.</p>
</div>
<div class="sect4">
<h5 id="_project_proposal"><a class="anchor" href="#_project_proposal"></a>Project Proposal</h5>
<div class="paragraph">
<p>You can find more details at the project proposal <a href="https://docs.google.com/document/d/1zUKRShhILzESwO7PIrYxXRSyLxxY-hAPclbREU8uE1o/edit">Google Doc</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_project_meeting_schedule"><a class="anchor" href="#_project_meeting_schedule"></a>Project Meeting Schedule</h5>
<div class="paragraph">
<p>Project Specific meetings: Tuesdays and Fridays at 7:00 AM UTC from May 14, 2019 to August 2, 2019.
Tuesdays and Thursdays at 3:00 PM UTC from August 5 onwards.</p>
</div>
<div class="paragraph">
<p>Jenkins GSoC Office Hours: Wednesdays at 2:00 PM UTC</p>
</div>
</div>
<div class="sect4">
<h5 id="_performance_testing_for_jenkins_using_jmh"><a class="anchor" href="#_performance_testing_for_jenkins_using_jmh"></a>Performance Testing for Jenkins using JMH</h5>
<div class="paragraph">
<p>The micro-benchmarking framework was made available to everyone through Jenkins Test Harness <a href="https://github.com/jenkinsci/jenkins-test-harness/releases/tag/jenkins-test-harness-2.51">2.51</a>
and Plugin POM <a href="https://github.com/jenkinsci/plugin-pom/releases/tag/plugin-3.46">3.46</a>.
A blog post summarizing how to use the framework was published and can be seen <a href="/blog/2019/06/21/performance-testing-jenkins/">here</a>.</p>
</div>
<div class="paragraph">
<p>A demo of the framework was held on May 31 and can be found
at: <a href="https://www.youtube.com/watch?v=sr28UADG1AE" class="bare">https://www.youtube.com/watch?v=sr28UADG1AE</a> .
Another demo was held at the Platform SIG meeting on June 6, this can be found at
<a href="https://www.youtube.com/watch?v=lyfbmhQd0Ag" class="bare">https://www.youtube.com/watch?v=lyfbmhQd0Ag</a></p>
</div>
<div class="paragraph">
<p>The presentation slides are available at:  <a href="https://drive.google.com/file/d/1gig6u64rzvSzGKjN_PTTXTkSXQ9Ah7E5/view?usp=sharing" class="bare">https://drive.google.com/file/d/1gig6u64rzvSzGKjN_PTTXTkSXQ9Ah7E5/view?usp=sharing</a></p>
</div>
<div class="paragraph">
<p>Benchmarks using this framework can now also be created inside Jenkins Core.
Please see <a href="https://github.com/jenkinsci/jenkins/pull/4135" class="bare">https://github.com/jenkinsci/jenkins/pull/4135</a> for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_performance_improvements_to_role_strategy_plugin"><a class="anchor" href="#_performance_improvements_to_role_strategy_plugin"></a>Performance improvements to Role Strategy Plugin</h5>
<div class="paragraph">
<p>To improve the performance of the Role Strategy Plugin, a couple of changes
were made. First, a cache for the matching roles for each project was created.
This avoids iterating through all regular expressions every time a permission is
needed to be checked. The other change that brought performance improvements
was to pre-calculate implying permissions. In Jenkins, the ADMINISTRATOR
permission, for example, gives the user the permission to read any Job. This
change avoids having to calculate all implying permissions whenever a permission
needed to be checked. These performance improvements were released for everyone
in Role Strategy Plugin <a href="https://github.com/jenkinsci/role-strategy-plugin/releases/tag/role-strategy-2.13">2.13</a>.
To learn more about the changes made to the plugin and the improvements in
performance, please check out the <a href="/blog/2019/08/26/role-strategy-performance/">blog post</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_the_new_folder_authorization_plugin"><a class="anchor" href="#_the_new_folder_authorization_plugin"></a>The new Folder Authorization Plugin</h5>
<div class="paragraph">
<p>A new authorization plugin for Jenkins was created and can be found at
<a href="https://github.com/jenkinsci/folder-auth-plugin" class="bare">https://github.com/jenkinsci/folder-auth-plugin</a>. The plugin allows assigning
permissions for Jobs through inheritance in 'folders' from CloudBees' <a href="https://plugins.jenkins.io/cloudbees-folder">Folders plugin</a>
and does not use regular expressions. The plugin also supports Global Roles
(like from the Role Strategy plugin) and 'Agent Roles' which can be used for
restricting permissions for agents connected to Jenkins. The first public
release of the plugin can be found at <a href="https://github.com/jenkinsci/folder-auth-plugin/releases/tag/folder-auth-1.0.1">GitHub</a>.
The plugin can be installed on your Jenkins through the Update Center.</p>
</div>
<div class="paragraph">
<p>The demo for the Phase 2 evaluations can be found at <a href="https://youtu.be/tnoObQqGhyM?t=1101" class="bare">https://youtu.be/tnoObQqGhyM?t=1101</a>
and the slides for the presentation are available at <a href="https://drive.google.com/file/d/1IVe3T8WdTILmb62PAIJveR4KbBWzPt1k/view?usp=sharing" class="bare">https://drive.google.com/file/d/1IVe3T8WdTILmb62PAIJveR4KbBWzPt1k/view?usp=sharing</a></p>
</div>
<div class="paragraph">
<p>To know more about this plugin, please check out the <a href="/blog/2019/08/16/folder-auth-plugin/">blog post</a>.
The demo for the final evaluations can be found at <a href="https://www.youtube.com/watch?v=tAUHfYYQrpo" class="bare">https://www.youtube.com/watch?v=tAUHfYYQrpo</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_getting_the_code"><a class="anchor" href="#_getting_the_code"></a>Getting the Code</h5>
<div class="paragraph">
<p>The plugin:folder-auth[Folder Auth plugin] was created from scratch during GSoC.
The code contributions to other Jenkins' repositories can be found using
<a href="https://github.com/search?q=author%3AAbhyudayaSharma+type%3Apr+org%3Ajenkinsci+created%3A2019-05-06..2019-08-26&amp;type=Issues">this</a>
GitHub search query which lists all the pull requests that were created.</p>
</div>
</div>
</article>
  </div>
</main>
</div>
<jio-footer></jio-footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
